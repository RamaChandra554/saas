<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SAAS-Products</title>
    <link rel="icon" href="./src/imgs/logo-icon.png" type="image/png" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Responsive Offcanvas Width for Small Screens -->
    <style>
        @media (max-width: 430px) {
            .offcanvas.offcanvas-end {
                width: 50% !important;
                max-width: 50% !important;
            }
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-light bg-white shadow-sm sticky-top">
        <div class="container d-flex justify-content-between align-items-center">
            <!-- Logo -->
            <a class="navbar-brand ms-2" href="#">
                <img src="./src/imgs/saas-logo.png" alt="SAAS Logo" height="40" />
            </a>

            <!-- Desktop Nav -->
            <ul class="navbar-nav d-none d-lg-flex flex-row gap-3 align-items-center">
                <li class="nav-item"><a class="nav-link" href="./index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Products</a></li>
                <li class="nav-item"><a class="nav-link" href="#">About Us</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
                <li class="nav-item"><a class="btn btn-primary" href="#">Shop Now</a></li>
            </ul>

            <!-- Mobile Toggle Button -->
            <button class="btn btn-outline-primary d-lg-none ms-auto" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#mobileMenu">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <!-- Offcanvas Menu -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="mobileMenu" data-bs-backdrop="false" data-bs-scroll="true">
        <div class="offcanvas-header justify-content-end">
            <h5 class="offcanvas-title me-auto">Menu</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="./index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Products</a></li>
                <li class="nav-item"><a class="nav-link" href="#">About Us</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
                <li class="nav-item mt-3"><a class="btn btn-primary w-100" href="#">Shop Now</a></li>
            </ul>
        </div>
    </div>

    <!-- Products Section -->
    <section class="all-products p-5">
        <div class="container">
            <div class="section-title text-center mb-5">
                <h2>All Products</h2>
                <p>Browse our full range of coconut products</p>
            </div>
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2" id="all-products-container">
                <!-- Products will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Product Data + Rendering Script -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const AllProducts = [
                {
                    id: 1,
                    name: "Virgin Coconut Oil",
                    price: "₹299",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Sapth_By_Nariyal.webp?v=1749196119&width=360",
                    rating: 5,
                    category: "Coconut Oil",
                },
                {
                    id: 2,
                    name: "Organic Coconut Vinegar",
                    price: "₹199",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/facecleanserpackof1.jpg?v=1749888155&width=360",
                    rating: 4,
                    category: "Coconut Vinegar",
                },
                {
                    id: 3,
                    name: "Coconut Flour",
                    price: "₹249",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Energizingrevitalizingsoap.jpg?v=1748420091&width=360",
                    rating: 5,
                    category: "Coconut Flour",
                },
                {
                    id: 4,
                    name: "Cold Pressed Coconut Oil",
                    price: "₹349",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/BrighteningSoftSmoothSkinSoap.webp?v=1748421281&width=360",
                    rating: 5,
                    category: "Coconut Oil",
                },
                {
                    id: 5,
                    name: "Coconut Sugar",
                    price: "₹179",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Serumpackof1.jpg?v=1749885499&width=360",
                    rating: 4,
                    category: "Coconut Sugar",
                },
                {
                    id: 6,
                    name: "Coconut Milk Powder",
                    price: "₹299",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Tan_Removal_Soap_448319a3-87a7-4873-8415-0f6cfef815cc.webp?v=1748690041&width=360",
                    rating: 4,
                    category: "Coconut Milk",
                },
                {
                    id: 1,
                    name: "Virgin Coconut Oil",
                    price: "₹299",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Sapth_By_Nariyal.webp?v=1749196119&width=360",
                    rating: 5,
                    category: "Coconut Oil",
                },
                {
                    id: 2,
                    name: "Organic Coconut Vinegar",
                    price: "₹199",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/facecleanserpackof1.jpg?v=1749888155&width=360",
                    rating: 4,
                    category: "Coconut Vinegar",
                },
                {
                    id: 3,
                    name: "Coconut Flour",
                    price: "₹249",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Energizingrevitalizingsoap.jpg?v=1748420091&width=360",
                    rating: 5,
                    category: "Coconut Flour",
                },
                {
                    id: 4,
                    name: "Cold Pressed Coconut Oil",
                    price: "₹349",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/BrighteningSoftSmoothSkinSoap.webp?v=1748421281&width=360",
                    rating: 5,
                    category: "Coconut Oil",
                },
                {
                    id: 5,
                    name: "Coconut Sugar",
                    price: "₹179",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Serumpackof1.jpg?v=1749885499&width=360",
                    rating: 4,
                    category: "Coconut Sugar",
                },
                {
                    id: 6,
                    name: "Coconut Milk Powder",
                    price: "₹299",
                    image:
                        "https://www.nariyal.co.in/cdn/shop/files/Tan_Removal_Soap_448319a3-87a7-4873-8415-0f6cfef815cc.webp?v=1748690041&width=360",
                    rating: 4,
                    category: "Coconut Milk",
                },
            ];

            function createProductCard(product) {
                let stars = "";
                for (let i = 0; i < 5; i++) {
                    stars += i < product.rating
                        ? '<i class="fas fa-star text-warning"></i>'
                        : '<i class="far fa-star text-warning"></i>';
                }

                return `
          <div class="col">
            <div class="product-card card h-100">
              <img src="${product.image}" class="card-img-top" alt="${product.name}" />
              <div class="card-body">
                <span class="badge bg-primary mb-2">${product.category}</span>
                <h5 class="product-title card-title">${product.name}</h5>
                <div class="product-rating mb-2">${stars}</div>
                <h6 class="product-price">${product.price}</h6>
              </div>
              <div class="card-footer bg-white border-0">
                <button class="btn btn-primary w-100 add-to-cart" data-id="${product.id}">
                  <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                </button>
              </div>
            </div>
          </div>
        `;
            }

            const container = document.getElementById("all-products-container");
            if (container) {
                AllProducts.forEach((product) => {
                    container.insertAdjacentHTML("beforeend", createProductCard(product));
                });
            }

            // Add to cart handler
            document.addEventListener("click", function (e) {
                if (
                    e.target.classList.contains("add-to-cart") ||
                    e.target.closest(".add-to-cart")
                ) {
                    const button = e.target.classList.contains("add-to-cart")
                        ? e.target
                        : e.target.closest(".add-to-cart");
                    const productId = button.getAttribute("data-id");
                    const product = AllProducts.find((p) => p.id == productId);

                    if (product) {
                        alert(`${product.name} added to cart!`);
                        // Extend here: save to localStorage, cart system, etc.
                    }
                }
            });
        });
        const cart = JSON.parse(localStorage.getItem("cart")) || [];

        const existingItem = cart.find(item => item.id == product.id);
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ ...product, quantity: 1 });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        window.location.href = "cart.html"; // Redirect to cart

    </script>

    <!-- Optional Custom JS -->
    <script src="script.js"></script>

    <!-- Bootstrap JS (single latest version) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>